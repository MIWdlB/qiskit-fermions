cmake_minimum_required (VERSION 3.27)
project (QiskitFermions)

# We are using CMake to build our C API test suite, and we leverage ctest to run
# those tests.
enable_testing ()

# The C API is provided by the qiskit_fermions_cext Rust crate. Its header gets
# generated by cbindgen (see `make cheader`).
find_library (qiskit_fermions qiskit_fermions PATHS dist/c/lib REQUIRED)
find_library (qiskit qiskit PATHS build/qiskit/dist/c/lib REQUIRED)

# Generally include the directory for the ``qiskit_fermions_cext.h`` file.
include_directories (dist/c/include)
include_directories (build/qiskit/dist/c/include)

# The remaining CMake configuration is done inside of the C API test suite.
add_subdirectory (tests/c)
